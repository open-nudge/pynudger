<!--
SPDX-FileCopyrightText: © 2025 open-nudge <https://github.com/open-nudge>
SPDX-FileContributor: szymonmaszke <github@maszke.co>

SPDX-License-Identifier: Apache-2.0
-->

# Documentation

This guide outlines the documentation features included in the
`opentemplate` template and available for your Python package.

## Features

The template uses [`mkdocs`](https://github.com/mkdocs/mkdocs)
with various plugins for enhanced functionality:

- __Single source of truth__ – Both GitHub and `mkdocs` share the same
    markdown files (adjustable in `mkdocs.yml` and via content generation).
- __Automated Docs__ – Generates documentation from
    `docstrings` and `/docs` using
    [`mkdocstrings`](https://github.com/mkdocstrings/mkdocstrings).
- __Modern Design__ – Uses [`mkdocs-material`](https://github.com/squidfunk/mkdocs-material)
    for a polished look.
- __Auto Navigation__ – [`mkdocs-awesome-pages-plugin`](https://github.com/lukasgeiter/mkdocs-awesome-pages-plugin)
    builds the navigation structure.
- __Predefined Sections__ – `docs` includes structured folders
    (only visible in generated documentation if populated).
- __Versioning Support__ – [`mike`](https://github.com/jimporter/mike)
    manages documentation versions.
- __GitHub Alerts__ – Use [GitHub Alerts](https://github.blog/changelog/2023-12-14-new-markdown-extension-alerts-provide-distinctive-styling-for-significant-content/)
    to emphasize information (works in generated docs and docstrings!).

> [!TIP]
> See `mkdocs.yml` for a full list of features.

## Checks and fixers

- Uses the same checks as in
    [Prose](prose.md) (excluding auto-generated docstrings).
- Runs a documentation build as a smoke test during commits.
- Ensures `docstrings` coverage via
    [`interrogate`](https://github.com/econchick/interrogate) (default: 100%).
- Detects common misspellings using
    [`codespell`](https://github.com/codespell-project/codespell).

> [!IMPORTANT]
> Always review generated documentation manually before pushing changes.

## Writing docstrings

- __Document every function, class, and module__ in your package.
- Follow [Google docstring style](https://google.github.io/styleguide/pyguide.html#38-comments-and-docstrings)
    for consistency.
- __Use `<!-- mkdocs remove start -->` and `<!-- mkdocs remove end -->`__
    to exclude content from `mkdocs` (e.g. GitHub-only notes).
- __You can use absolute paths__ in the links, just like on GitHub,
    for example `/docs/README.md` will be transformed to `mkdocs`-compatible
    `../README.md` if the link was specified in file `/docs/tutorials/foo.md`.

## Adjustments

Common places to change documentation settings:

- __`pyproject.toml`__ – Configure plugins and tools in
    `[dependency-groups]` (`dev-docs`).
- __`mkdocs.yml`__ – General documentation settings.
- __`docs/`__ – Add or modify content (not autogenerated).
- __`/src` docstrings__ – For API documentation.
- __Top-level `*.md` files__ – General project documentation
    (see `nav` in `mkdocs.yml`).

> [!CAUTION]
> `README.md` in `/docs` serves as the documentation description,
> not the project overview.

### Content generation

There might be cases where you want `mkdocs` documentation to differ
from GitHub files (e.g. lack of support for certain features).

In this case, you can wrap the content you want to delete from
`mkdocs` generated representation in `<!-- mkdocs remove start -->`
and `<!-- mkdocs remove end -->` HTML/markdown comments.

> [!TIP]
> Check [`README.md`](../index.md) for an example.

## Code sources

- `mkdocs.yml`
- `pyproject.toml`
- `docs/`
- `docs/gen_ref_pages.py`
- `.github/workflows/docs*.yml`
